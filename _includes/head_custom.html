<!-- 검색 엔진 노출 제한 -->
<meta name="robots" content="noindex, nofollow">

<!-- Pretendard 폰트 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">

<!-- GitHub Markdown CSS (부분 적용) -->
<style>
  /* Pretendard 폰트 적용 */
  body, .main-content, .site-nav, .site-header {
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  }

  /* GitHub 스타일 코드 블록 */
  pre {
    background-color: #f6f8fa;
    border: 1px solid #d0d7de;
    border-radius: 6px;
    padding: 16px;
    overflow: auto;
  }

  code {
    background-color: #f6f8fa;
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 85%;
  }

  pre code {
    background: none;
    padding: 0;
  }

  /* GitHub 스타일 표 */
  table {
    border-collapse: collapse;
    width: 100%;
  }

  th, td {
    border: 1px solid #d0d7de;
    padding: 8px 12px;
  }

  th {
    background-color: #f6f8fa;
    font-weight: 600;
  }

  tr:nth-child(even) {
    background-color: #f6f8fa;
  }

  /* GitHub 스타일 인용문 */
  blockquote {
    border-left: 4px solid #d0d7de;
    padding-left: 16px;
    color: #57606a;
    margin: 16px 0;
  }

  /* 이전/다음 네비게이션 스타일 */
  .nav-footer {
    display: flex;
    justify-content: space-between;
    padding: 20px 0;
    border-top: 1px solid #d0d7de;
    margin-top: 40px;
  }

  .nav-footer a {
    display: inline-flex;
    align-items: center;
    padding: 8px 16px;
    color: #0969da;
    text-decoration: none;
    border: 1px solid #d0d7de;
    border-radius: 6px;
    background: #f6f8fa;
    font-size: 14px;
  }

  .nav-footer a:hover {
    background: #0969da;
    color: white;
    border-color: #0969da;
  }

  .nav-footer .prev::before {
    content: "← ";
  }

  .nav-footer .next::after {
    content: " →";
  }

  .nav-footer .spacer {
    flex: 1;
  }
</style>

<!-- 이전/다음 네비게이션 생성 -->
<script>
  // 페이지 완전 로드 후 실행 (사이드바 동적 로드 대응)
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initNav);
  } else {
    initNav();
  }

  function initNav() {
    // 사이드바 로드 대기 (최대 3초, 100ms 간격)
    var attempts = 0;
    var maxAttempts = 30;

    function tryCreateNav() {
      var links = document.querySelectorAll('.nav-list-item > a.nav-list-link');
      if (links.length > 0) {
        createPrevNextNav();
      } else if (attempts < maxAttempts) {
        attempts++;
        setTimeout(tryCreateNav, 100);
      }
    }
    tryCreateNav();
  }

  function createPrevNextNav() {
    // 이미 생성되었으면 스킵
    if (document.querySelector('.nav-footer')) return;

    // 사이드바에서 실제 페이지 링크만 수집
    var navLinks = [];
    document.querySelectorAll('.nav-list-item > a.nav-list-link').forEach(function(link) {
      var href = link.getAttribute('href');
      if (href && href.indexOf('.html') !== -1) {
        navLinks.push({
          href: href,
          title: link.textContent.trim()
        });
      }
    });

    if (navLinks.length === 0) return;

    // 파일명만 추출
    function getFilename(path) {
      var parts = path.split('/');
      return parts[parts.length - 1].toLowerCase();
    }

    // 현재 페이지 찾기
    var currentFilename = getFilename(window.location.pathname);
    var currentIndex = -1;

    for (var i = 0; i < navLinks.length; i++) {
      if (getFilename(navLinks[i].href) === currentFilename) {
        currentIndex = i;
        break;
      }
    }

    if (currentIndex === -1) return;

    // 네비게이션 생성
    var nav = document.createElement('nav');
    nav.className = 'nav-footer';

    // 이전 버튼
    if (currentIndex > 0) {
      var prev = navLinks[currentIndex - 1];
      var prevLink = document.createElement('a');
      prevLink.href = prev.href;
      prevLink.className = 'prev';
      prevLink.textContent = prev.title;
      nav.appendChild(prevLink);
    } else {
      nav.appendChild(document.createElement('span'));
    }

    // 스페이서
    var spacer = document.createElement('span');
    spacer.className = 'spacer';
    nav.appendChild(spacer);

    // 다음 버튼
    if (currentIndex < navLinks.length - 1) {
      var next = navLinks[currentIndex + 1];
      var nextLink = document.createElement('a');
      nextLink.href = next.href;
      nextLink.className = 'next';
      nextLink.textContent = next.title;
      nav.appendChild(nextLink);
    }

    // 메인 컨텐츠에 추가
    var mainContent = document.getElementById('main-content') ||
                      document.querySelector('.main-content') ||
                      document.querySelector('main') ||
                      document.body;
    mainContent.appendChild(nav);
  }
</script>
