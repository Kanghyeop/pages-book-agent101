<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 550 240">
  <style>
    .box { stroke: #DDDDDD; stroke-width: 1.5; }
    .box-host { stroke: #DDDDDD; stroke-width: 1.5; }
    .title { font-family: Pretendard, -apple-system, sans-serif; font-size: 11px; font-weight: 600; fill: #333333; }
    .subtitle { font-family: Pretendard, -apple-system, sans-serif; font-size: 9px; fill: #666666; }
    .step { font-family: Pretendard, -apple-system, sans-serif; font-size: 8px; fill: #666666; }
    .arrow { stroke: #333333; stroke-width: 1.5; fill: none; }
    .return-arrow { stroke: #666666; stroke-width: 1; stroke-dasharray: 4,2; }
    .figure { font-family: Pretendard, -apple-system, sans-serif; font-size: 11px; font-weight: 500; fill: #666666; }
  </style>

  <!-- Host Box (light blue background) -->
  <rect x="20" y="40" width="200" height="160" rx="10" fill="#E3F2FD" class="box"/>
  <text x="120" y="60" text-anchor="middle" class="title">MCP 호스트</text>
  <text x="120" y="75" text-anchor="middle" class="subtitle">(Claude Desktop, VS Code 등)</text>

  <!-- Agent inside Host (single blue) -->
  <rect x="40" y="90" width="70" height="45" rx="6" fill="#E3F2FD" class="box"/>
  <text x="75" y="110" text-anchor="middle" class="title">에이전트</text>
  <text x="75" y="125" text-anchor="middle" class="subtitle">LLM</text>

  <!-- Client inside Host -->
  <rect x="130" y="90" width="70" height="45" rx="6" fill="#FFFFFF" class="box"/>
  <text x="165" y="110" text-anchor="middle" class="title">클라이언트</text>
  <text x="165" y="125" text-anchor="middle" class="subtitle">MCP Client</text>

  <!-- Arrow Agent to Client -->
  <line x1="110" y1="112" x2="125" y2="112" class="arrow"/>
  <polygon points="130,112 122,107 122,117" fill="#333333"/>
  <text x="118" y="100" text-anchor="middle" class="step">1</text>

  <!-- MCP Server 1 (single blue - same as Server 2) -->
  <rect x="280" y="50" width="100" height="55" rx="6" fill="#E3F2FD" class="box"/>
  <text x="330" y="72" text-anchor="middle" class="title">MCP 서버 1</text>
  <text x="330" y="88" text-anchor="middle" class="subtitle">파일시스템</text>
  <text x="330" y="100" text-anchor="middle" style="font-size:7px;fill:#666666;">read, write</text>

  <!-- MCP Server 2 (single blue - same as Server 1) -->
  <rect x="280" y="120" width="100" height="55" rx="6" fill="#E3F2FD" class="box"/>
  <text x="330" y="142" text-anchor="middle" class="title">MCP 서버 2</text>
  <text x="330" y="158" text-anchor="middle" class="subtitle">데이터베이스</text>
  <text x="330" y="170" text-anchor="middle" style="font-size:7px;fill:#666666;">query</text>

  <!-- External Resources (neutral gray - 외부 리소스) -->
  <rect x="440" y="50" width="90" height="55" rx="6" fill="#F5F5F5" class="box"/>
  <text x="485" y="72" text-anchor="middle" class="title">로컬 파일</text>
  <text x="485" y="90" text-anchor="middle" class="subtitle">/docs/*.md</text>

  <rect x="440" y="120" width="90" height="55" rx="6" fill="#F5F5F5" class="box"/>
  <text x="485" y="142" text-anchor="middle" class="title">PostgreSQL</text>
  <text x="485" y="160" text-anchor="middle" class="subtitle">DB 서버</text>

  <!-- Arrows Host to Servers -->
  <line x1="220" y1="77" x2="275" y2="77" class="arrow"/>
  <polygon points="280,77 270,72 270,82" fill="#333333"/>
  <text x="248" y="68" text-anchor="middle" class="step">2</text>

  <line x1="220" y1="147" x2="275" y2="147" class="arrow"/>
  <polygon points="280,147 270,142 270,152" fill="#333333"/>

  <!-- Arrows Servers to External -->
  <line x1="380" y1="77" x2="435" y2="77" class="arrow"/>
  <polygon points="440,77 430,72 430,82" fill="#333333"/>
  <text x="408" y="68" text-anchor="middle" class="step">3</text>

  <line x1="380" y1="147" x2="435" y2="147" class="arrow"/>
  <polygon points="440,147 430,142 430,152" fill="#333333"/>

  <!-- Legend -->
  <text x="60" y="160" text-anchor="middle" class="step">1. 도구 호출 요청</text>
  <text x="60" y="175" text-anchor="middle" class="step">2. MCP 프로토콜 통신</text>
  <text x="60" y="190" text-anchor="middle" class="step">3. 실제 작업 수행</text>

  <!-- Return arrows (dashed blue) -->
  <line x1="275" y1="85" x2="220" y2="85" class="return-arrow"/>
  <line x1="435" y1="85" x2="380" y2="85" class="return-arrow"/>

  <!-- Figure caption -->
  <text x="275" y="228" text-anchor="middle" class="figure">Figure X-6. MCP 동작 흐름</text>
</svg>
